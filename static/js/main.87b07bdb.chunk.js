(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(35)},32:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),l=n.n(c),o=(n(32),n(33),[{goal:[7,3,5],board:[[[1],[],[2],[0],[0],[]],[[1],[2],[],[0],[0],[0]],[[2],[],[2],[0],[0],[0]],[[0],[0],[0],[2],[],[2]],[[0],[0],[0],[],[],[1]],[[],[0],[0],[2],[1],[1]]],playerPositions:[[5,0]],capacity:10},{goal:[7,3,5,0,0],board:[[[1,2,3,4],[],[2],[0],[0],[]],[[1],[2],[],[0],[0],[0]],[[2],[],[2],[0],[0],[0]],[[0],[0],[0],[2],[],[2]],[[0],[0],[0],[],[],[1]],[[],[0],[0],[2],[1],[1]]],playerPositions:[[5,0]],capacity:1}]),u=n(4),i=n(13),m=n(40),s=n(22),p=n(41);function f(e){var t=e.row,n=e.col,a=e.dropTargets,c=e.movePlayer,l=e.children,o=Object(p.a)(function(){return{accept:a.map(function(e){return"p".concat(e)}),drop:function(e,a){return c(a.getItemType(),t,n)},collect:function(e){return{isOver:!!e.isOver(),canDrop:!!e.canDrop()}}}},[]),i=Object(u.a)(o,2),m=i[0],s=m.isOver,f=m.canDrop,d=i[1];return r.a.createElement("div",{className:"cell-drop-target",ref:d},f&&!s&&r.a.createElement("div",{className:"highlight-possible"}),f&&s&&r.a.createElement("div",{className:"highlight-hover"}),l)}function d(e){var t=e.row,n=e.col,a=e.movePlayer,c=e.dropTargets,l=(e.visionAdj,e.children);return 0===c.length?r.a.createElement("div",{className:"cell"},l):r.a.createElement(f,{row:t,col:n,dropTargets:c,movePlayer:a},r.a.createElement("div",{className:"cell"},l))}var v=n(42);function b(e){var t=e.number,n=Object(v.a)(function(){return{type:"p".concat(t)}}),a=Object(u.a)(n,2)[1];return r.a.createElement("div",{className:"target",ref:a},r.a.createElement("h1",{className:"player"},"P".concat(t)))}var E=["pink","red","blue","yellow","green"],g=["pink","red","blue","yellow","green"];function y(e){var t=e.items,n=e.corner,a=e.live,c=void 0!==a&&a,l=e.selectItem,o=void 0===l?function(e){}:l;return r.a.createElement("div",{className:"magazine".concat(n?" corner":"")},0===t.length?null:t.map(function(e,t){return r.a.createElement(h,{key:t,type:e,live:c,selectItem:o})}))}function h(e){var t=e.type,n=e.live,a=void 0!==n&&n,c=e.selectItem,l=void 0===c?function(e){}:c;return a?r.a.createElement("div",{className:"item live-item",style:{backgroundColor:g[t]},onClick:function(){return l(t)}}):r.a.createElement("div",{className:"item",style:{backgroundColor:g[t]}})}function N(e){var t=e.board,n=e.playerPositions,a=e.movePlayer,c=e.selectNextCollectItem,l=t.length,o=t[0].length;return r.a.createElement(m.a,{backend:s.a},r.a.createElement("div",{className:"board",style:{gridTemplateRows:"repeat(".concat(l,", 1fr)"),gridTemplateColumns:"repeat(".concat(o,", 1fr)")}},function(e,n,l){for(var o=[],u=function(e){for(var u=function(n){var u=l.findIndex(function(t){return e===t[0]&&n===t[1]}),m=-1!==u,s=l.map(function(t){return Math.abs(t[0]-e)+Math.abs(t[1]-n)===1}).reduce(function(e,t,n){return t?e.concat([n+1]):e},[]),p=l.some(function(t){return a=[t[0]-e,t[1]-n],Math.max.apply(Math,Object(i.a)(a.map(Math.abs)))<=1;var a});o.push(r.a.createElement(d,{key:"".concat(e," ").concat(n),row:e,col:n,movePlayer:a,dropTargets:s,visionAdj:p},m?r.a.createElement(b,{number:u+1}):null,0===t[e][n].length?null:r.a.createElement(y,{items:t[e][n],corner:m,live:m,selectItem:c})))},m=0;m<n;m++)u(m)},m=0;m<e;m++)u(m);return o}(l,o,n)))}function I(e){var t=e.round,n=e.goal,a=e.bag,c=e.capacity,l=e.numDistinctItems,o=e.selectNextDropItem,u=a.reduce(function(e,t){return e+t},0);return r.a.createElement("div",{className:"dashboard"},r.a.createElement("h1",{className:"round-title"},"Round ".concat(t+1)),r.a.createElement("div",{className:"bag"},r.a.createElement("h2",{className:"bag-title"},r.a.createElement("u",null,"Bag")),r.a.createElement("h5",{className:"capacity"},"Bag Total: ",r.a.createElement("span",{style:u===c?{color:"red"}:{}},u,"/",c)),E.slice(0,l).map(function(e,t){var c="list-item";return a[t]>=n[t]&&(c+=" list-item-complete"),0!==a[t]&&(c+=" can-drop"),r.a.createElement("p",{key:t,className:c,onClick:function(){return 0===a[t]?null:o(t)}},"".concat(a[t],"/").concat(n[t]," ").concat(e))})))}function O(e){var t=e.collectItem,n=e.dropItem,a=e.displayCollectItem,c=e.displayDropItem;return r.a.createElement("div",{className:"controls"},r.a.createElement("div",{className:"control-button",onClick:t},r.a.createElement("h3",null,"Collect"),null===a?null:r.a.createElement(h,{type:a})),r.a.createElement("div",{className:"control-button",onClick:n},r.a.createElement("h3",null,"Drop"),null===c?null:r.a.createElement(h,{type:c})),r.a.createElement("div",{className:"control-button"},r.a.createElement("h3",null,"Lock In")))}function j(e){var t=e.setup,n=Object(a.useState)(t.board),c=Object(u.a)(n,2),l=c[0],o=c[1],i=Object(a.useState)(t.goal.map(function(){return 0})),m=Object(u.a)(i,2),s=m[0],p=m[1],f=Object(a.useState)(0),d=Object(u.a)(f,2),v=d[0],b=d[1],E=Object(a.useState)(null),g=Object(u.a)(E,2),y=g[0],h=g[1],j=Object(a.useState)(null),k=Object(u.a)(j,2),w=k[0],C=k[1],P=Object(a.useState)(t.playerPositions.map(function(e){return[e.map(function(e){return e})]})),D=Object(u.a)(P,2),x=D[0],M=D[1],T=l.reduce(function(e,t){return t.reduce(function(e,t){return t.reduce(function(e,t){return Math.max(e,t)},e)},e)},-1)+1,S=function(e){return e.map(function(e){return e[e.length-1]})};return r.a.createElement("div",{className:"game"},r.a.createElement("h1",null,"Maze Game"),r.a.createElement("div",{className:"game-board"},r.a.createElement(N,{board:l,playerPositions:S(x),movePlayer:function(e,t,n){return function(e,t,n){M(function(a){var r=parseInt(e.slice(-1)),c=a.map(function(e){return e.map(function(e){return e.map(function(e){return e})})});return c[r-1].push([t,n]),c}),b(function(e){return e+1}),h(function(){return null})}(e,t,n)},selectNextCollectItem:function(e){s.reduce(function(e,t){return e+t},0)<t.capacity&&h(function(){return e})}}),r.a.createElement(I,{round:v,goal:t.goal,bag:s,capacity:t.capacity,numDistinctItems:T,selectNextDropItem:function(e){s[e]>0&&C(e)}})),r.a.createElement(O,{collectItem:function(){var e=S(x),t=e[0][0],n=e[0][1];null!==y&&(o(function(e){var a=e.map(function(e){return e.map(function(e){return e.map(function(e){return e})})}),r=a[t][n].indexOf(y);return console.log(a[t][n]),-1!==r&&a[t][n].splice(r,1),console.log(a[t][n]),a}),p(function(e){var t=e.slice();return t[y]+=1,t}),h(function(){return null}),C(function(){return null}),b(function(e){return e+1}))},dropItem:function(){var e=S(x),t=e[0][0],n=e[0][1];null!==w&&(o(function(e){var a=e.map(function(e){return e.map(function(e){return e.map(function(e){return e})})});return a[t][n].push(w),a}),p(function(e){var t=e.slice();return t[w]-=1,t}),h(function(){return null}),C(function(){return null}),b(function(e){return e+1}))},displayCollectItem:y,displayDropItem:w}))}var k=function(){return r.a.createElement("div",{className:"page"},r.a.createElement(j,{setup:o[0]}))};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)))}},[[24,1,2]]]);
//# sourceMappingURL=main.87b07bdb.chunk.js.map